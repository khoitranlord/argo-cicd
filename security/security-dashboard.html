<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Dashboard - CI/CD Pipeline</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        .header h1 {
            color: #2c3e50;
            margin: 0;
        }
        .security-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .security-card {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .security-card h3 {
            margin: 0 0 10px 0;
            color: #34495e;
        }
        .status-indicator {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 10px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
        }
        .status-pass { background-color: #27ae60; }
        .status-warn { background-color: #f39c12; }
        .status-fail { background-color: #e74c3c; }
        .status-info { background-color: #3498db; }
        
        .scan-results {
            margin-top: 30px;
        }
        .scan-section {
            margin-bottom: 25px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .scan-header {
            background: #34495e;
            color: white;
            padding: 15px;
            font-weight: bold;
            font-size: 18px;
        }
        .scan-content {
            padding: 20px;
        }
        .vulnerability-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .vulnerability-item {
            padding: 10px;
            margin: 5px 0;
            border-left: 4px solid;
            background: #f8f9fa;
        }
        .vuln-critical { border-left-color: #dc3545; background: #f8d7da; }
        .vuln-high { border-left-color: #fd7e14; background: #fff3cd; }
        .vuln-medium { border-left-color: #ffc107; background: #fff9c4; }
        .vuln-low { border-left-color: #20c997; background: #d1ecf1; }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .metric {
            text-align: center;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 5px;
        }
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }
        .metric-label {
            font-size: 14px;
            color: #7f8c8d;
        }
        
        .recommendations {
            background: #e8f4fd;
            border: 1px solid #b3d9ff;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
        }
        .recommendations h4 {
            margin: 0 0 10px 0;
            color: #1f3a93;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîí Security Dashboard</h1>
            <p>CI/CD Pipeline Security Scanning Results</p>
            <p>Last Updated: <span id="lastUpdated">Loading...</span></p>
        </div>

        <div class="security-overview">
            <div class="security-card">
                <h3>SAST Scanning</h3>
                <div class="status-indicator status-pass">‚úì</div>
                <p>Static Code Analysis</p>
                <small>CodeQL, Semgrep, Bandit</small>
            </div>
            
            <div class="security-card">
                <h3>Dependency Scan</h3>
                <div class="status-indicator status-warn">‚ö†</div>
                <p>Vulnerability Detection</p>
                <small>npm audit, Snyk, OWASP</small>
            </div>
            
            <div class="security-card">
                <h3>Container Security</h3>
                <div class="status-indicator status-pass">‚úì</div>
                <p>Image Vulnerability Scan</p>
                <small>Trivy, Grype, Hadolint</small>
            </div>
            
            <div class="security-card">
                <h3>DAST Scanning</h3>
                <div class="status-indicator status-pass">‚úì</div>
                <p>Runtime Security Testing</p>
                <small>OWASP ZAP, Nuclei</small>
            </div>
            
            <div class="security-card">
                <h3>Secret Detection</h3>
                <div class="status-indicator status-pass">‚úì</div>
                <p>Credential Scanning</p>
                <small>TruffleHog, GitLeaks</small>
            </div>
            
            <div class="security-card">
                <h3>Overall Status</h3>
                <div class="status-indicator status-warn">‚ö†</div>
                <p>Security Posture</p>
                <small>Action Required</small>
            </div>
        </div>

        <div class="metrics">
            <div class="metric">
                <div class="metric-value">0</div>
                <div class="metric-label">Critical Vulnerabilities</div>
            </div>
            <div class="metric">
                <div class="metric-value">3</div>
                <div class="metric-label">High Severity Issues</div>
            </div>
            <div class="metric">
                <div class="metric-value">12</div>
                <div class="metric-label">Medium Severity Issues</div>
            </div>
            <div class="metric">
                <div class="metric-value">98.5%</div>
                <div class="metric-label">Security Score</div>
            </div>
        </div>

        <div class="scan-results">
            <div class="scan-section">
                <div class="scan-header">üîç SAST Results - Static Code Analysis</div>
                <div class="scan-content">
                    <p><strong>Status:</strong> ‚úÖ Passed</p>
                    <ul class="vulnerability-list">
                        <li class="vulnerability-item vuln-medium">
                            <strong>Potential XSS Vulnerability</strong><br>
                            <small>File: src/utils/validator.js:42 | Scanner: Semgrep</small>
                        </li>
                        <li class="vulnerability-item vuln-low">
                            <strong>Hardcoded Secret Detection</strong><br>
                            <small>File: config/test.js:15 | Scanner: CodeQL</small>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="scan-section">
                <div class="scan-header">üì¶ Dependency Vulnerabilities</div>
                <div class="scan-content">
                    <p><strong>Status:</strong> ‚ö†Ô∏è Warning</p>
                    <ul class="vulnerability-list">
                        <li class="vulnerability-item vuln-high">
                            <strong>CVE-2023-12345 - lodash</strong><br>
                            <small>Prototype pollution vulnerability | Fix: Update to 4.17.21</small>
                        </li>
                        <li class="vulnerability-item vuln-medium">
                            <strong>CVE-2023-54321 - express</strong><br>
                            <small>Path traversal vulnerability | Fix: Update to 4.18.2</small>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="scan-section">
                <div class="scan-header">üê≥ Container Security Scan</div>
                <div class="scan-content">
                    <p><strong>Status:</strong> ‚úÖ Passed</p>
                    <ul class="vulnerability-list">
                        <li class="vulnerability-item vuln-low">
                            <strong>Outdated base image</strong><br>
                            <small>Recommendation: Update to node:18-alpine-latest</small>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="scan-section">
                <div class="scan-header">üåê DAST Results - Dynamic Analysis</div>
                <div class="scan-content">
                    <p><strong>Status:</strong> ‚úÖ Passed</p>
                    <p>No security vulnerabilities detected during runtime testing.</p>
                    <ul class="vulnerability-list">
                        <li class="vulnerability-item vuln-info" style="border-left-color: #17a2b8; background: #d6f5ff;">
                            <strong>Security Headers Missing</strong><br>
                            <small>Recommendation: Add CSP and security headers</small>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="recommendations">
            <h4>üîß Security Recommendations</h4>
            <ul>
                <li>Update lodash dependency to patch CVE-2023-12345</li>
                <li>Implement input validation in validator.js</li>
                <li>Add Content Security Policy headers</li>
                <li>Update base Docker image to latest security patch</li>
                <li>Enable additional security scanning in production</li>
            </ul>
        </div>
    </div>

    <script>
        // Update timestamp
        document.getElementById('lastUpdated').textContent = new Date().toLocaleString();
        
        // Simulate real-time updates (in real implementation, this would fetch from API)
        function updateSecurityData() {
            // This would typically fetch from your security scanning API
            console.log('Updating security dashboard data...');
        }
        
        // Update every 5 minutes
        setInterval(updateSecurityData, 300000);
    </script>
</body>
</html>